{% for archive in archives | sort(attribute='singles_all_count', reverse=True) if archive.root_name == "tag" and not archive.is_root and archive.singles_all_count > 0 -%}
  {%- if loop.first %}
<div class="widget tagcloud">
  <div class="widget-title">Tag List</div>
  <div class="widget-body">
  {%- endif %}
    <span class="link-item"><a href="{{ archive.url }}">{{ archive.name }}</a> ({{ archive.singles_all_count }})</span>
  {%- if loop.last %}
  </div>
</div>
  {%- endif %}
{%- endfor %}
